const numberWithCommas=(x)=>{return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}
$(document).ready(function(){var modal;function openModalBox(modalId,className){modal=document.getElementById(modalId);modal.className="modal open "+className;$("html, body").addClass("ngdialog-open")}
function closeModalBox(modalId){modal=document.getElementById(modalId);modal.className="modal";$("html, body").removeClass("ngdialog-open")}
window.onclick=function(event){if(event.target==modal){modal.className="modal";$("html, body").removeClass("ngdialog-open")}}
$('.search-container-home .navbar-nav > li > .dropdown-menu li').on('click',function(){if($(this).parent().parent().attr('data-rel')=='by_industry'){$('.search-container-home .navbar-nav > li[data-rel="by_industry"] > .dropdown-menu li a .fa').remove();$('input[name="by_industry"]').val($(this).find("a").attr('data-rel'));$('#industry_text').html($(this).find("a").html());$(this).find("a").append('<i class="fa fa-check" aria-hidden="true" style="margin-left: 10px;"></i>');if($(this).find("a").attr('data-rel')==""){$(this).parent().find(".default").hide()}else{$(this).parent().find(".default").show()}}else if($(this).parent().parent().attr('data-rel')=='by_location'){$('.search-container-home .navbar-nav > li[data-rel="by_location"] > .dropdown-menu li a .fa').remove();$('input[name="by_location"]').val($(this).find("a").attr('data-rel'));$('#location_text').html($(this).find("a").html());$(this).find("a").append('<i class="fa fa-check" aria-hidden="true" style="margin-left: 10px;"></i>');if($(this).find("a").attr('data-rel')==""){$(this).parent().find(".default").hide()}else{$(this).parent().find(".default").show()}}else{$('.search-container-home .navbar-nav > li[data-rel="by_investment"] > .dropdown-menu li a .fa').remove();$('input[name="by_investment"]').val($(this).find("a").attr('data-rel'));$('#investment_text').html($(this).find("a").html());$(this).find("a").append('<i class="fa fa-check" aria-hidden="true" style="margin-left: 10px;"></i>');if($(this).find("a").attr('data-rel')==""){$(this).parent().find(".default").hide()}else{$(this).parent().find(".default").show()}}});if($("select[name='seek_country_footer']").val()>0){$("#seek_state_footer_error, #seek_state_footer_info").hide();$('#seek_state_footer_info').show();$("select[name='seek_state_footer']").html("<option value=''>Select State</option>");$("select[name='seek_city_footer']").html("<option value=''>Select City</option>");$.post("/DSIXSUQaGF",{'country_id':$("select[name='seek_country_footer']").val(),'action':'fetchStates'}).then(function(_data){_data=JSON.parse(_data);$('#seek_state_footer_info').hide();if(_data){if(_data.status=="FRCO00"){if(_data.data){var stateInnerHTML="";$.each(_data.data,function(idx,val){stateInnerHTML+='<option value="'+val.id+'">'+val.name+'</option>'});$("select[name='seek_state_footer']").append(stateInnerHTML).removeAttr('disabled')}else{$("#seek_state_footer_error").html("System is not able to process your request. (FR30)").show()}}else{$("#seek_state_footer_error").html(_data.data+" ("+_data.status+")").show()}}else{$("#seek_state_footer_error").html("System is not able to process your request. (FR20)").show()}},function(_error){$("#seek_state_footer_error").html("System is not able to process your request. (FR10)").show()})}
$(".seek-country-footer").on('change',function(){$("#seek_state_footer_error, #seek_state_footer_info").hide();$('#seek_state_footer_info').show();$(".seek-state-footer").html("<option value=''>Select State</option>");$(".seek-city-footer").html("<option value=''>Select City</option>");$.post("/DSIXSUQaGF",{'country_id':$(this).val(),'action':'fetchStates'}).then(function(_data){_data=JSON.parse(_data);$('#seek_state_footer_info').hide();if(_data){if(_data.status=="FRCO00"){if(_data.data){var stateInnerHTML="";$.each(_data.data,function(idx,val){stateInnerHTML+='<option value="'+val.id+'">'+val.name+'</option>'});$(".seek-state-footer").append(stateInnerHTML).removeAttr('disabled')}else{$("#seek_state_footer_error").html("System is not able to process your request. (FR30)").show()}}else{$("#seek_state_footer_error").html(_data.data+" ("+_data.status+")").show()}}else{$("#seek_state_footer_error").html("System is not able to process your request. (FR20)").show()}},function(_error){$("#seek_state_footer_error").html("System is not able to process your request. (FR10)").show()})});$(".seek-state-footer").on('change',function(){$("#seek_state_footer_error, #seek_state_footer_info").hide();$('#seek_state_footer_info').show();$(".seek-city-footer").html("<option value=''>Select City</option>");$.post("/DSIXSUQaGF",{'state_id':$(this).val(),'action':'fetchCities'}).then(function(_data){_data=JSON.parse(_data);$('#seek_city_footer_info').hide();if(_data){if(_data.status=="FRS00"){if(_data.data){var stateInnerHTML="";$.each(_data.data,function(idx,val){stateInnerHTML+='<option value="'+val.id+'">'+val.name+'</option>'});$(".seek-city-footer").append(stateInnerHTML).removeAttr('disabled')}else{$("#seek_city_footer_error").html("System is not able to process your request. (FR30)").show()}}else{$("#seek_city_footer_error").html(_data.data+" ("+_data.status+")").show()}}else{$("#seek_city_footer_error").html("System is not able to process your request. (FR20)").show()}},function(_error){$("#seek_city_footer_error").html("System is not able to process your request. (FR10)").show()})});$('select[name="uRequirement"]').change(function(){var reqVal=$(this).val();var seekInnerHTML="<option value=''>What you seek?</option>";if(reqVal=="1"){seekInnerHTML+="<option value='1'>Start A New Business - Franchise</option>";seekInnerHTML+="<option value='2'>Looking for a New Business Idea</option>";seekInnerHTML+="<option value='3'>Invest in a Popular Brand</option>";seekInnerHTML+="<option value='4'>C&F, Distributorship and Agencies</option>";seekInnerHTML+="<option value='5'>Running Businesses for Sale</option>";$('#register-terms').show()}else if(reqVal=="2"){seekInnerHTML+="<option value='1'>Free Company Listing</option>";seekInnerHTML+="<option value='2'>Advertise Your Business</option>";seekInnerHTML+="<option value='3'>Franchise Development Services</option>";seekInnerHTML+="<option value='4'>Appoint Franchises, C&F, Dealers, Distributors</option>";seekInnerHTML+="<option value='5'>Sell your Business</option>";$('#register-terms').hide()}
$('select[name="uSeek"]').html(seekInnerHTML);$("#industries").hide()});$('select[name="uSeek"]').on("change",function(){var reqReqVal=$('select[name="uRequirement"]').val();var reqVal=$(this).val();if(reqVal=="1"&&reqReqVal=="1"){$("#industries").show()}else{$("#industries").hide()}});$('#register').on('click',function(){closeModalBox('registerModal');openModalBox('registerModal','modal-xs');$("#registerModal .nav-tabs li").removeClass("active");$("#registerModal .tab-content .tab-pane").removeClass("active");$("#registerModal .nav-tabs li:first-child").addClass("active");$("#registerModal .tab-content .tab-pane#social-tab").addClass("active")});$('.login-modal').on('click',function(){openModalBox('registerModal','modal-xs')});$('.forgot-password-link').on('click',function(){$('.login-section').hide();$('.forgot-password-section').show()});$('.login-link').on('click',function(){$('.forgot-password-section').hide();$('.login-section').show()});var options={html:!0};$('[data-toggle="popover"]').popover(options);$('[data-toggle="tooltip"]').tooltip();var searchArr=[];$.post("/Nxm2ps6ixs",{'action':'fetchAllDataForSearch'}).then(function(_data){_data=JSON.parse(_data);if(_data){searchArr=_data}},function(_error){});$(".inner-addon #searchLink").on('focus',function(){$('.header-inline-form').show()});$(document).click(function(e){if($(e.target).is('.inner-addon, .inner-addon *, .header-inline-form, .header-inline-form *'))return;$('.header-inline-form').hide();var fArr=[],cArr=[],iArr=[],sArr=[],bArr=[],list='';$("#searchKey").val('');$('#searchResults ul').html("<li class='info'>No Results Found</li>").hide()});$("#searchKey").on('keyup',function(){var fArr=[],cArr=[],iArr=[],sArr=[],bArr=[],list='';var searchKey=$(this).val().toLowerCase();if(searchKey.length<3){list+="<li class='info'>No Results Found</li>"}else{if(searchArr.franchisors.length>0){$.each(searchArr.franchisors,function(index,item){if(item.brand_name.toLowerCase().indexOf(searchKey)>=0||item.company_name.toLowerCase().indexOf(searchKey)>=0||item.marketing_description.toLowerCase().indexOf(searchKey)>=0||item.industry.toLowerCase().indexOf(searchKey)>=0||item.segment.toLowerCase().indexOf(searchKey)>=0||item.seeking_at.toLowerCase().indexOf(searchKey)>=0){fArr.push("<li><a href='/franchise-opportunity/"+item.showcase_url+"'>"+item.brand_name.toLowerCase()+"</a></li>")}});if(fArr.length>0){list+="<li class='heading'><b>Business Opportunities</b></li>";$.each(fArr,function(index,item){list+=item})}}
if(searchArr.cities.length>0){$.each(searchArr.cities,function(index,item){if(item.name.toLowerCase().indexOf(searchKey)>=0){cArr.push("<li><a href='/location/"+item.page_url+"'>"+item.name.toLowerCase()+"</a></li>")}});if(cArr.length>0){list+="<li class='heading'><b>Locations</b></li>";$.each(cArr,function(index,item){list+=item})}}
if(searchArr.industries.length>0){$.each(searchArr.industries,function(index,item){if(item.name.toLowerCase().indexOf(searchKey)>=0){iArr.push("<li><a href='/industry/"+item.page_url+"'>"+item.name.toLowerCase()+"</a></li>")}});if(iArr.length>0){list+="<li class='heading'><b>Industries</b></li>";$.each(iArr,function(index,item){list+=item})}}
if(searchArr.segments.length>0){$.each(searchArr.segments,function(index,item){if(item.name.toLowerCase().indexOf(searchKey)>=0){sArr.push("<li><a href='/segment/"+item.page_url+"'>"+item.name.toLowerCase()+"</a></li>")}});if(sArr.length>0){list+="<li class='heading'><b>Segments</b></li>";$.each(sArr,function(index,item){list+=item})}}
if(searchArr.blogs.length>0){$.each(searchArr.blogs,function(index,item){if(item.name.toLowerCase().indexOf(searchKey)>=0){bArr.push("<li><a href='/blog/"+item.url+"'>"+item.name+"</a></li>")}});if(bArr.length>0){list+="<li class='heading'><b>Articles</b></li>";$.each(bArr,function(index,item){list+=item})}}}
$('#searchResults ul').html(list).show()});$("button[relation='login']").on('click',function(){$("form[name='login-form']").validate({errorClass:'validation-error-container bottom',errorElement:"em",rules:{l_f_email:{required:!0,email:!0},f_password:{required:!0,maxlength:15,minlength:5}},messages:{l_f_email:{required:"We need your email address to login",email:"Your email address must be in the format of name@domain.com"},f_password:{required:"Please specify your password",maxlength:jQuery.validator.format("Maximum characters allowed: {0}"),minlength:jQuery.validator.format("Password should be at least {0} characters long")}},submitHandler:function(form){setTimeout(function(){$('#login-form .spinner').show();$('#login-form input, #login-form textarea, #login-form select, #login-form button, #login-form a').attr('disabled','disabled')},0);$.post("/Nxm2ps6ixs",$(form).serialize()).then(function(_data){_data=JSON.parse(_data);if(_data){if(_data.status=='FRLO00'){window.location.reload()}else{$("#login-form .error-message").html(_data.data+" ("+_data.status+")").show()}}else{$("#login-form .error-message").html("System is not able to process your request. (FR20)").show()}
$('#login-form .spinner').hide();$('#login-form input, #login-form textarea, #login-form select, #login-form button, #login-form a').removeAttr('disabled');grecaptcha.reset(loginReCaptchaWidgetId)},function(_error){$('#login-form .spinner').hide();$('#login-form input, #login-form textarea, #login-form select, #login-form button, #login-form a').removeAttr('disabled');$("#login-form .error-message").html("System is not able to process your request. (FR10)").show();grecaptcha.reset(loginReCaptchaWidgetId)})}})});$("button[relation='reset']").on('click',function(){$("#password-form").validate({errorClass:'validation-error-container bottom',errorElement:"em",rules:{f_email:{required:!0,email:!0}},messages:{f_email:{required:"We need your email address to reset your password",email:"Your email address must be in the format of name@domain.com"}},submitHandler:function(form){setTimeout(function(){$('#password-form .spinner').show();$('#password-form input, #password-form textarea, #password-form select, #password-form button, #password-form a').attr('disabled','disabled');$("#password-form .success-message, #password-form .error-message").hide()},0);$.post("/Nxm2ps6ixs",$(form).serialize()).then(function(_data){_data=JSON.parse(_data);if(_data){if(_data.status=='FRLO00'){$("#password-form .success-message").html(_data.data).show()}else{$("#password-form .error-message").html(_data.data+" ("+_data.status+")").show()}}else{$("#password-form .error-message").html("System is not able to process your request. (FR20)").show()}
$('#password-form .spinner').hide();$('#password-form input, #password-form textarea, #password-form select, #password-form button, #password-form a').removeAttr('disabled');grecaptcha.reset(forgotPasswordReCaptchaWidgetId)},function(_error){$('#password-form .spinner').hide();$('#password-form input, #password-form textarea, #password-form select, #password-form button, #password-form a').removeAttr('disabled');$("#password-form .error-message").html("System is not able to process your request. (FR10)").show();grecaptcha.reset(forgotPasswordReCaptchaWidgetId)})}})});$("a[relation='logout']").on('click',function(){$('#logout-form').submit()});$("button[relation='connect-form']").on('click',function(){$("#connect-form").validate({errorClass:'validation-error-container bottom',errorElement:"em",rules:{ufName:{required:!0,maxlength:200,minlength:2},ulName:{required:!0,maxlength:200,minlength:2},contactNumber:{required:!0,digits:!0,maxlength:10,minlength:10},uEmail:{required:!0,email:!0,minlength:2,maxlength:200},uRequirement:{required:!0},uSeek:{required:!0},uInvestments:{required:!0},'uCategory[]':{required:function(element){return($('#uSeek').val()!='')}},seek_country_footer:{required:!0},seek_state_footer:{required:!0},seek_city_footer:{required:!0},uMessage:{required:!0,minlength:2,maxlength:500}},messages:{ufName:{required:"Please enter your first name",maxlength:jQuery.validator.format("Maximum characters allowed: {0}"),minlength:jQuery.validator.format("First Name should be at least {0} characters long")},ulName:{required:"Please enter your last name",maxlength:jQuery.validator.format("Maximum characters allowed: {0}"),minlength:jQuery.validator.format("Last Name should be at least {0} characters long")},contactNumber:{required:"Please enter your contact number",digits:"Only Numeric are allowed",maxlength:jQuery.validator.format("Maximum characters allowed: {0}"),minlength:jQuery.validator.format("Contact Number should be at least {0} characters long")},uEmail:{required:"Please enter your email",email:"Your email address must be in the format of name@domain.com",maxlength:jQuery.validator.format("Maximum characters allowed: {0}"),minlength:jQuery.validator.format("Email should be at least {0} characters long")},uRequirement:{required:"Please select an option"},uSeek:{required:"Please select an option"},uInvestments:{required:"Please select an option"},'uCategory[]':{required:"Please select atleast one option"},seek_country_footer:{required:"Please select an option"},seek_state_footer:{required:"Please select an option"},seek_city_footer:{required:"Please select an option"},uMessage:{required:"Please enter your message",maxlength:jQuery.validator.format("Maximum characters allowed: {0}"),minlength:jQuery.validator.format("Message should be at least {0} characters long")}},submitHandler:function(form){$("#connect-form-btn .spinner").show();$(".customer-connect-btn").prop("disabled",!0);$("#connect-form .success-message, #connect-form .error-message").hide();$.post("/Nxm2ps6ixs",$(form).serialize()).then(function(_data){_data=JSON.parse(_data);if(_data){if(_data.status=='FRC00'){if($("#connect-form input[name='eid']")&&$("#connect-form input[name='eid']").val()){$("#connect-form .success-message").html("<p>Hey, thanks for reaching us out. Your request has been logged and will be processed further.</p>").show()}else{var cType=$('#connect-form select[name="uRequirement"]').val();var cSeek=$('#connect-form select[name="uSeek"]').val();if(cType=="2"){$('.userFname').val($('input[name="ufName"]').val());$('.userLname').val($('input[name="ulName"]').val());$('.userContactNumber').val($('input[name="contactNumber"]').val());$('.userEmailId').val($('input[name="uEmail"]').val());$('.userInvestments').val($('select[name="uInvestments"]').val());$('.userRequirement').val($('select[name="uRequirement"]').val());$('.userSeekCountry').val($('select[name="seek_country_footer"]').val());$('.userSeekState').val($('select[name="seek_state_footer"]').val());$('.userSeekCity').val($('select[name="seek_city_footer"]').val());$("#connect-form .success-message").html("<p>Hey, thanks for reaching us out. One of our executive will reach you shortly to innovate, build and tale your idea to next level.</p><p>However, we would like you to please proceed with our registration process, so that you can avail maximum opportunities.</p><p>You will be redirected to registration page in <span id='timer'></span></p>").show();var timeoutHandle;function countdown(){var seconds=20;function tick(){var counter=document.getElementById("timer");seconds--;counter.innerHTML=": <b>"+String(seconds)+" Seconds</b>";if(seconds>0){timeoutHandle=setTimeout(tick,1000)}else{$("#connect-form-2").attr("action",'/franchisor-registration/');$('#connect-form-2').submit()}}
tick()}
countdown()}
$("#connect-form .success-message").show()}}else if(_data.status=='FRER00'){$("#connect-form .success-message").html("<p>Congratulations! Your request has been logged. Also, you have been registered with FranchiseBazar as a Business Seeker</p><p>We have sent an email to your registered mail address for verification along with your account password.</p>").show()}else{$("#connect-form .error-message").html(_data.data+" ("+_data.status+")").show()}}else{$("#connect-form .error-message").html("System is not able to process your request. (FR20)").show()}
$("#connect-form-btn .spinner").hide();$(".customer-connect-btn").prop("disabled",!1);grecaptcha.reset(footerReCaptchaWidgetId)},function(_error){$('#connect-form .spinner').hide();$("#connect-form .error-message").html("System is not able to process your request. (FR10)").show();$(".customer-connect-btn").prop("disabled",!1);grecaptcha.reset(footerReCaptchaWidgetId)})}})});$("button[relation='register']").on('click',function(){$("form[name='register-form']").validate({errorClass:'validation-error-container bottom',errorElement:"em",rules:{r_fname:{required:!0,minlength:1,maxlength:100},r_lname:{minlength:1,maxlength:100},r_email:{required:!0,email:!0,minlength:2,maxlength:100},r_mobile:{required:!0,digits:!0,minlength:2,maxlength:10},r_password:{required:!0,maxlength:15,minlength:5}},messages:{r_fname:{required:"We need your name to register",minlength:jQuery.validator.format("First Name should be at least {0} characters long"),maxlength:jQuery.validator.format("Maximum characters allowed: {0}")},r_lname:{minlength:jQuery.validator.format("Last Name should be at least {0} characters long"),maxlength:jQuery.validator.format("Maximum characters allowed: {0}")},r_email:{required:"We need your email address to register",email:"Your email address must be in the format of someone@example.com",minlength:jQuery.validator.format("Email Address should be at least {0} characters long"),maxlength:jQuery.validator.format("Maximum characters allowed: {0}")},r_mobile:{required:"We need your mobile number to register",digits:"Only Digits are allowed in mobile number",minlength:jQuery.validator.format("Mobile should be at least {0} characters long"),maxlength:jQuery.validator.format("Maximum characters allowed: {0}")},r_password:{required:"Select a strong password for your profile",maxlength:jQuery.validator.format("Maximum characters allowed: {0}"),minlength:jQuery.validator.format("Password should be at least {0} characters long")}},submitHandler:function(form){setTimeout(function(){$('#register-form .spinner').show();$('#register-form input, #register-form textarea, #register-form select, #register-form button, #register-form a').attr('disabled','disabled');$("#register-form .success-message, #register-form .error-message").hide()},0);$.post("/Nxm2ps6ixs",$(form).serialize()).then(function(_data){_data=JSON.parse(_data);if(_data){if(_data.status=='FBREG00'){$("#register-form .success-message").html(_data.data).show()}else{$("#register-form .error-message").html(_data.data+" ("+_data.status+")").show()}}else{$("#register-form .error-message").html("System is not able to process your request. (FR20)").show()}
$('#register-form .spinner').hide();$('#register-form input, #register-form textarea, #register-form select, #register-form button, #register-form a').removeAttr('disabled');grecaptcha.reset(registerReCaptchaWidgetId)},function(_error){$('#register-form .spinner').hide();$('#register-form input, #register-form textarea, #register-form select, #register-form button, #register-form a').removeAttr('disabled');$("#register-form .error-message").html("System is not able to process your request. (FR10)").show();grecaptcha.reset(registerReCaptchaWidgetId)})}})})});'use strict';(function(document,window,index){var inputs=document.querySelectorAll('input[type="file"]');Array.prototype.forEach.call(inputs,function(input){var label=input.nextElementSibling,labelVal=label.innerHTML;input.addEventListener('change',function(e){var fileName='';if(this.files&&this.files.length>1)
fileName=(this.getAttribute('data-multiple-caption')||'').replace('{count}',this.files.length);else fileName=e.target.value.split('\\').pop();if(fileName)
label.querySelector('span').innerHTML=fileName;else label.innerHTML=labelVal});input.addEventListener('focus',function(){input.classList.add('has-focus')});input.addEventListener('blur',function(){input.classList.remove('has-focus')})})}(document,window,0))